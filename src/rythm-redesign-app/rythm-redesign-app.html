<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-scroll-header-panel/paper-scroll-header-panel.html">
<link rel="import" href="../../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="../../bower_components/paper-material/paper-material.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/neon-animation/neon-animated-pages.html">
<link rel="import" href="../../bower_components/neon-animation/neon-animatable.html">
<link rel="import" href="../../bower_components/neon-animation/neon-animations.html">

<link rel="import" href="../../bower_components/paper-styles/color.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link href="https://fonts.googleapis.com/css?family=Lato|Oswald" rel="stylesheet">

<dom-module id="rythm-redesign-app">
  <template>
    <style is="custom-style">
      /*** Overall Page ***/
      :host {
        display: block;
        height: 100%;
      }
      h1 {
        font-family: 'Oswald', sans-serif;
        font-size: 40px;
      }
      h2 {
        font-family: 'Open Sans', sans-serif;
        font-size: 26px;
      }
      p {
        font-family: 'Open Sans', sans-serif;
      }
      section {
        @apply(--layout-vertical);
        backgrond-repeat: no-repeat;
        background-position: center;
        background-size: cover;
        height: 100vh;
        width: 100vw;
      }
      paper-scroll-header-panel {
        bottom: 0;
        left: 0;
        position: absolute;
        right: 0;
        top: 0;
      }
      paper-material {
        background-color: rgba(171, 109, 105, 0.5);
        text-align: left;
      }

      /*** Landing Section ***/
      #landing-section {
        background-image: url('images/top.png');
        color: white;
      }
      paper-toolbar {
        background-color: #23272f;
      }
      paper-tabs {
        --paper-tabs-selection-bar-color: #ab6d69;
      }
      #pickup-line {
        bottom: 100px;
        left: 0;
        padding-bottom: 20px;
        padding-left: 50px;
        padding-top: 20px;
        position: absolute;
        width: 35%;
      }

      /*** Product Section ***/
      #product-section {
        background-color: white;
        overflow: scroll;
      }
      #product {
        display: inline-block;
        height: 100%;   
        padding-left: 30px;   
        position: relative;
        width: 75%;
      }
      #app-description {
        background: none; /* overrides paper-material */
        color: #666666;
        height: auto;
        padding-bottom: 30px;
        padding-right: 30px;
        padding-top: 30px;
        position: absolute;
        right: 0px;
        text-align: right;
        width: 30vw;
      }
      /* adjust screen size based on size of screen */
      @media (max-width : 2000px) {
        #app-description {font-size: 1.5em}
      } 
      @media (max-width : 1600px) {
        #app-description {font-size: 1.3em}
      } 
      @media (max-width : 1400px) {
        #app-description {font-size: 1.1em}
      } 
      @media (max-width : 1000px) {
        #app-description {font-size: 1em}
      } 
      @media (max-width : 800px) {
        #app-description {font-size: 0.9em}
      }       
      @media (max-width : 600px) {
        #app-description {font-size: 0.75em}
      }

      /* iPhone */
      #phone-container {
        display: inline-block; /* scales div to size of content */
        left: 5vw;
        line-height: 0; /* gets rid of a couple extra pixels at base of div */
        position: relative;
        top: 10vh;
      }
      .product-photo {
        height: auto;
        width: 60vw;
      }
      #picture-frame {
        height: 100%;
        left: 0;
        position: absolute;
        top: 0; /* top and left align it with upper left corner of photo */
        width: 100%; /* height and width make it same size as parent (phone-container) */
      }
      #screen {
        height: 69.5%;
        left: 11.5%;
        overflow: hidden; /* ensures phone content is cropped to the phone screen */
        position: absolute;
        top: 15.1%; /* hardcoded values to line screen div up perfectly with screen in photo */
        width: 32.2%;
      }
      .screen-shot {
        height: auto;
        left: 0;
        position: absolute;
        top: 0;
        width: 100%;
      }

      /* Arrows */
      paper-icon-button.giant {
        height: auto;
        position: absolute;
        top: 45%;
        width: 5vw;
      }
      #left {
        left: 0;
      }
      #right {
        left: 29vw;
      }
      #arrows {
        z-index: 1; /* make sure arrows are higher than image (so they're pressable) */
      }

      /*** Endorsement Section ***/
      #endorsement-section {
        background-image: url('images/bottom.png');
        position: relative;
      }
      #endorsements {
        bottom: 0;
        height: 15vh;
        position: absolute;
        width: 100vw;
      }
      #endorsement-backdrop {
        height: 100%;
        position: absolute;
        width: 100%;
      }
      #endorsement-container {
        align-items: center;
        display: flex;
        height: 100%;
        justify-content: space-between; /* spaces icons evenly */
        position: absolute;
        width: 100%;
      }
      .endorsement {
        -webkit-filter: grayscale(100%);
        height: 75%;
        margin-left: auto;
        margin-right: auto;
        padding: 25px;
        transition: -webkit-filter 0.75s;
        width: auto;
      }
      .endorsement:hover {
        -webkit-filter: grayscale(0%);
      }

      /*** Footer ***/
      #footer {
        background-color: #23272f;
        height: 200px;
      }
    </style>
    <paper-scroll-header-panel condenses>
      <!-- Top Menu Bar -->
      <paper-toolbar class="tall">
        <paper-icon-button src="images/logo.png"></paper-icon-button>
        <span class="title">Rythm</span>
        <paper-tabs selected="0" noink>
          <paper-tab>Home</paper-tab>
          <paper-tab>About</paper-tab>
          <paper-tab>Order Now</paper-tab>
          <paper-tab>Science</paper-tab>
          <paper-tab>Blog</paper-tab>
        </paper-tabs>
      </paper-toolbar>

      <content>
        <!-- Landing section -->
        <section id="landing-section">
          <paper-material id="pickup-line" elevation="1">
            <h1>You've Finally Found a Good Night's Sleep</h1>
            <h2>Introducing the Dreem headband</h2>
          </paper-material>
        </section>  

        <section id="product-section">
          <!-- Product description -->
          <paper-material id="app-description" elevation="0">
            <p>Understanding your sleep accurately is the first step towards enhancing it. And the most accurate way to understand sleep is by measuring one’s brain activity (EEG). The Dreem headband acquires and analyzes this activity and our Dreem App gives you a meaningful and clear understanding of your sleep when you wake up.</p>
            <p>Your everyday performance has a lot to do with getting the right quality of sleep so that you wake up recovered, rested, and full of energy. By using sound stimulations at precise moments that sync with your brain activity, we enhance the quality of your sleep during the most critical stage of your sleep - deep sleep.</p>
            <p>Knowing your precise sleep patterns means you’ll never be interrupted during any of your key sleep stages. Your Dreem headband does this exceptionally well.Just set your alarm time and leave it to the headband to gently wake you up at the ideal time. A time that is in tune with your body so that you wake up refreshed and charged for another day.</p>
          </paper-material>
          <!-- App demo -->
          <div id="product">
            <div id="phone-container">
              <img src="images/product-test.png" class="product-photo">
              <!-- Div scaled to exact size of image (to allow for phone #screen positioning) -->
              <div id="picture-frame">
                <!-- These arrows overflow the parent, but this allows the arrows to be centered on the phone screen -->
                <div id="arrows">
                  <paper-icon-button id="left" src="images/left-arrow.png" title="left" class="giant" on-tap="goLeft"></paper-icon-button>
                  <paper-icon-button id="right" src="images/right-arrow.png" title="right" class="giant" on-tap="goRight"></paper-icon-button>
                </div>
                <div id="screen">
                  <!-- This does the heavy lifting for animating the phone screens -->
                  <neon-animated-pages class="screen-shot" selected="[[screenSelected]]" entry-animation="[[screenEntryAnimation]]" exit-animation="[[screenExitAnimation]]">
                    <neon-animatable><img src="images/screen1.png" class="screen-shot"></neon-animatable>
                    <neon-animatable><img src="images/screen2.png" class="screen-shot"></neon-animatable>
                    <neon-animatable><img src="images/screen3.png" class="screen-shot"></neon-animatable>
                  </neon-animated-pages>
                </div>
              </div>
            </div>
          </div>
        </section>  

        <section id="endorsement-section">
          <div id="endorsements">
            <paper-material id="endorsement-backdrop" elevation="1"></paper-material>
            <!-- Press icons -->
            <div id="endorsement-container">
              <img src="images/endorsements/forbes.png" class="endorsement">
              <img src="images/endorsements/tech-crunch.png" class="endorsement">
              <img src="images/endorsements/about.png" class="endorsement">
              <img src="images/endorsements/wareable.png" class="endorsement">
              <img src="images/endorsements/cnet.png" class="endorsement">
            </div>
          </div>
        </section> 

        <section id="footer"></section>

      </content> 
    </paper-scroll-header-panel> 
  </template>

  <script>
    Polymer({

      is: 'rythm-redesign-app',

      properties: {
        screenSelected: {
          type: Number,
          value: 2,
          notify: true,
        },
        screenEntryAnimation: String,
        screenExitAnimation: String,
      },

      // Phone screen animations. 
      // Direction of "swipe" depends on arrow pressed
      goLeft: function() {
        this.screenEntryAnimation = 'slide-from-left-animation';
        this.screenExitAnimation = 'slide-right-animation';
        this.screenSelected = this.screenSelected === 0 ? 2 : (this.screenSelected - 1);
      },
      goRight: function() {
        this.screenEntryAnimation = 'slide-from-right-animation';
        this.screenExitAnimation = 'slide-left-animation';
        this.screenSelected = this.screenSelected === 2 ? 0 : (this.screenSelected + 1);
      },

    });
  </script>
</dom-module>